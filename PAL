brew install cloudfoundry/tap/cf-cli

cf login -a https://api.sys.quandary.pal.pivotal.io --skip-ssl-validation

./gradlew clean build
cf push pal-tracker -p build/libs/pal-tracker.jar

cf logs --recent pal-tracker

cf push -f manifest.yml


Memory- cf scale pal-tracker -m 512M -f

Instanses - cf scale pal-tracker -m 512M -f

cf domains

cf map-route pal-tracker --hostname pal-tracker-<YOUR INITIALS>-dev <DOMAIN>
cf unmap-route pal-tracker --hostname pal-tracker-<YOUR INITIALS>-dev <DOMAIN>

cf create-space review -o <YOUR ORG NAME>

Concourse
Set target to URL - fly --target pal-concourse login --concourse-url <CONCOURSE_URL>

Execute task - fly -t pal-concourse execute --config ci/tasks/build.yml

Run with credentials - fly -t pal-concourse set-pipeline --config ci/pipeline.yml --pipeline pal-tracker-[your name] --load-vars-from ci/credentials.yml


http://pal-tracker-massless-overvehementness.apps.quandary.pal.pivotal.io/
http://sl-pal-tracker-review.apps.quandary.pal.pivotal.io/
http://sl-pal-tracker-production.apps.quandary.pal.pivotal.io/


mysql -u root
use tracker_dev;
describe time_entries;

cf target -s review
cf create-service p-mysql 100mb tracker-database 
cf bind-service pal-tracker-review tracker-database
cf env pal-tracker-review
cf ssh -N -L 63306:10.0.4.41:3306 pal-tracker-review
flyway -url="jdbc:mysql://127.0.0.1:63306/cf_e4ec34d4_62ab_470c_a702_ae059be10d21" -locations=filesystem:databases/tracker clean migrate

test build - fly -t pal-concourse execute --config ci/tasks/build.yml --input pal-tracker=. --input version=.





Create AWS account
Use bosh to create a load balanced concourse URL
Use fly to set concourse to target the URL
Create a pipeline to pull from the repository
Deploy the files using cloudfoundry using conourse built in cf support

bosh create-env concourse.yml \
  -o infrastructures/gcp.yml \
  --vars-store gcp-creds.yml \
  --state gcp-state.json \
  -v gcp_credentials_json="'$gcp_credentials_json'" \
  -v internal_cidr=10.0.0.0/9\
  -v internal_gw=10.0.0.1	 \
  -v internal_ip=10.0.0.6\
  -v public_ip=35.185.64.185\
  -v network=shaneconcoursetest \
  -v project_id=labs-aleung \
  -v subnetwork=concoursetest \
  -v tags=shaneconcoursetest\
  -v zone=us-east1-c

bbl up --state-dir ~/my-bbl-states/concourse/ \
       --gcp-zone us-west1-a --gcp-region us-west1 \
       --gcp-service-account-key service-account.key.json \
       --gcp-project-id my-project-14478532 \
       --iaas gcp --name concourse \
       --no-director
